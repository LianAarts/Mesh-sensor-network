\hypertarget{rd__22__680sensor_8cpp}{}\doxysection{/\+Users/lian/\+Documents/\+Platform\+IO/\+Projects/rootselection/src/rd\+\_\+22\+\_\+680sensor.cpp File Reference}
\label{rd__22__680sensor_8cpp}\index{/Users/lian/Documents/PlatformIO/Projects/rootselection/src/rd\_22\_680sensor.cpp@{/Users/lian/Documents/PlatformIO/Projects/rootselection/src/rd\_22\_680sensor.cpp}}
{\ttfamily \#include $<$Arduino.\+h$>$}\newline
{\ttfamily \#include $<$Zanshin\+\_\+\+BME680.\+h$>$}\newline
{\ttfamily \#include \char`\"{}rd\+\_\+22\+\_\+configuration.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}rd\+\_\+22\+\_\+debug.\+h\char`\"{}}\newline
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{rd__22__680sensor_8cpp_ad72dbcf6d0153db1b8d8a58001feed83}{DEBUG}}~\mbox{\hyperlink{rd__22__configuration_8h_ac2d33ccaf63f5d5b66552b95426c0137}{DEBUG\+\_\+\+LEVEL}}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{rd__22__680sensor_8cpp_abe3b0217638808155a0ac7f709f39771}{setup\+Sensor680}} ()
\begin{DoxyCompactList}\small\item\em setup of the BME680 sensor \end{DoxyCompactList}\item 
String \mbox{\hyperlink{rd__22__680sensor_8cpp_ae59aa409df16e98af3f6b8f36b1968c3}{make\+Sensor\+Message680}} (bool is\+Root, String \mbox{\hyperlink{main_8cpp_ac72c672187176a6a0d7ade3dc9e30a27}{node\+Name}}, String IP, String node\+ID)
\begin{DoxyCompactList}\small\item\em Make the JSON that we send to the root node. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
BME680\+\_\+\+Class \mbox{\hyperlink{rd__22__680sensor_8cpp_a5063630ccead4138f04d3c1bc67c9a39}{BME680}}
\begin{DoxyCompactList}\small\item\em Sensor object. \end{DoxyCompactList}\item 
int32\+\_\+t \mbox{\hyperlink{rd__22__680sensor_8cpp_ae0c571af1d73ef7f40c4d3eb3b2c37a4}{temp}}
\begin{DoxyCompactList}\small\item\em Temp value. \end{DoxyCompactList}\item 
int32\+\_\+t \mbox{\hyperlink{rd__22__680sensor_8cpp_a8dc8b9a805a3f68eaeaefbf53a2e0664}{humidity}}
\begin{DoxyCompactList}\small\item\em Humidity value. \end{DoxyCompactList}\item 
int32\+\_\+t \mbox{\hyperlink{rd__22__680sensor_8cpp_af8ad120afa713a54244728bc253803b6}{pressure}}
\begin{DoxyCompactList}\small\item\em Pressure value. \end{DoxyCompactList}\item 
int32\+\_\+t \mbox{\hyperlink{rd__22__680sensor_8cpp_aef8bfe519bbd9438e4fa08dd20a8d150}{gas}}
\begin{DoxyCompactList}\small\item\em Gas value. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{rd__22__680sensor_8cpp_ad72dbcf6d0153db1b8d8a58001feed83}\label{rd__22__680sensor_8cpp_ad72dbcf6d0153db1b8d8a58001feed83}} 
\index{rd\_22\_680sensor.cpp@{rd\_22\_680sensor.cpp}!DEBUG@{DEBUG}}
\index{DEBUG@{DEBUG}!rd\_22\_680sensor.cpp@{rd\_22\_680sensor.cpp}}
\doxysubsubsection{\texorpdfstring{DEBUG}{DEBUG}}
{\footnotesize\ttfamily \#define DEBUG~\mbox{\hyperlink{rd__22__configuration_8h_ac2d33ccaf63f5d5b66552b95426c0137}{DEBUG\+\_\+\+LEVEL}}}



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{rd__22__680sensor_8cpp_ae59aa409df16e98af3f6b8f36b1968c3}\label{rd__22__680sensor_8cpp_ae59aa409df16e98af3f6b8f36b1968c3}} 
\index{rd\_22\_680sensor.cpp@{rd\_22\_680sensor.cpp}!makeSensorMessage680@{makeSensorMessage680}}
\index{makeSensorMessage680@{makeSensorMessage680}!rd\_22\_680sensor.cpp@{rd\_22\_680sensor.cpp}}
\doxysubsubsection{\texorpdfstring{makeSensorMessage680()}{makeSensorMessage680()}}
{\footnotesize\ttfamily String make\+Sensor\+Message680 (\begin{DoxyParamCaption}\item[{bool}]{is\+Root,  }\item[{String}]{node\+Name,  }\item[{String}]{IP,  }\item[{String}]{node\+ID }\end{DoxyParamCaption})}



Make the JSON that we send to the root node. 

This JSON is based on the Sen\+ML specification. This one JSON will include multiple measurements.

bn\+: Basename or sensor name (sensor1)

n\+: Measurement name (temperature)

u\+: Unit of Measurement (Â°C)

v\+: Value (21.\+8)


\begin{DoxyParams}{Parameters}
{\em is\+Root} & If we are root we also send the IP address of the root so Home Assistant can send API requests to the root. \\
\hline
{\em node\+Name} & This is part of the entity ID we want to use in Home Assistant \\
\hline
{\em IP} & IP address of the node. \\
\hline
{\em node\+ID} & Node\+ID, we use this to check duplicate names in Home Assistant \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
String String in JSON format with all the measurements 
\end{DoxyReturn}
\mbox{\Hypertarget{rd__22__680sensor_8cpp_abe3b0217638808155a0ac7f709f39771}\label{rd__22__680sensor_8cpp_abe3b0217638808155a0ac7f709f39771}} 
\index{rd\_22\_680sensor.cpp@{rd\_22\_680sensor.cpp}!setupSensor680@{setupSensor680}}
\index{setupSensor680@{setupSensor680}!rd\_22\_680sensor.cpp@{rd\_22\_680sensor.cpp}}
\doxysubsubsection{\texorpdfstring{setupSensor680()}{setupSensor680()}}
{\footnotesize\ttfamily void setup\+Sensor680 (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



setup of the BME680 sensor 

ifdef for different sensors

\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{rd__22__680sensor_8cpp_a5063630ccead4138f04d3c1bc67c9a39}\label{rd__22__680sensor_8cpp_a5063630ccead4138f04d3c1bc67c9a39}} 
\index{rd\_22\_680sensor.cpp@{rd\_22\_680sensor.cpp}!BME680@{BME680}}
\index{BME680@{BME680}!rd\_22\_680sensor.cpp@{rd\_22\_680sensor.cpp}}
\doxysubsubsection{\texorpdfstring{BME680}{BME680}}
{\footnotesize\ttfamily BME680\+\_\+\+Class BME680}



Sensor object. 

\mbox{\Hypertarget{rd__22__680sensor_8cpp_aef8bfe519bbd9438e4fa08dd20a8d150}\label{rd__22__680sensor_8cpp_aef8bfe519bbd9438e4fa08dd20a8d150}} 
\index{rd\_22\_680sensor.cpp@{rd\_22\_680sensor.cpp}!gas@{gas}}
\index{gas@{gas}!rd\_22\_680sensor.cpp@{rd\_22\_680sensor.cpp}}
\doxysubsubsection{\texorpdfstring{gas}{gas}}
{\footnotesize\ttfamily int32\+\_\+t gas}



Gas value. 

\mbox{\Hypertarget{rd__22__680sensor_8cpp_a8dc8b9a805a3f68eaeaefbf53a2e0664}\label{rd__22__680sensor_8cpp_a8dc8b9a805a3f68eaeaefbf53a2e0664}} 
\index{rd\_22\_680sensor.cpp@{rd\_22\_680sensor.cpp}!humidity@{humidity}}
\index{humidity@{humidity}!rd\_22\_680sensor.cpp@{rd\_22\_680sensor.cpp}}
\doxysubsubsection{\texorpdfstring{humidity}{humidity}}
{\footnotesize\ttfamily int32\+\_\+t humidity}



Humidity value. 

\mbox{\Hypertarget{rd__22__680sensor_8cpp_af8ad120afa713a54244728bc253803b6}\label{rd__22__680sensor_8cpp_af8ad120afa713a54244728bc253803b6}} 
\index{rd\_22\_680sensor.cpp@{rd\_22\_680sensor.cpp}!pressure@{pressure}}
\index{pressure@{pressure}!rd\_22\_680sensor.cpp@{rd\_22\_680sensor.cpp}}
\doxysubsubsection{\texorpdfstring{pressure}{pressure}}
{\footnotesize\ttfamily int32\+\_\+t pressure}



Pressure value. 

\mbox{\Hypertarget{rd__22__680sensor_8cpp_ae0c571af1d73ef7f40c4d3eb3b2c37a4}\label{rd__22__680sensor_8cpp_ae0c571af1d73ef7f40c4d3eb3b2c37a4}} 
\index{rd\_22\_680sensor.cpp@{rd\_22\_680sensor.cpp}!temp@{temp}}
\index{temp@{temp}!rd\_22\_680sensor.cpp@{rd\_22\_680sensor.cpp}}
\doxysubsubsection{\texorpdfstring{temp}{temp}}
{\footnotesize\ttfamily int32\+\_\+t temp}



Temp value. 

